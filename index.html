<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Compute Correlations Type Analysis in Parallel • corrp</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Compute Correlations Type Analysis in Parallel">
<meta name="description" content="Compute multiple types of correlation analyses, including Pearson correlation, R^2 coefficient of linear regression, Cramer's V measure of association, distance correlation, the Maximal Information Coefficient, uncertainty coefficient, and Predictive Power Score in large data frames with mixed column classes (integer, numeric, factor, and character) using a parallel backend. This package also includes a C++ implementation of the average correlation clustering algorithm and distance correlation t-test.">
<meta property="og:description" content="Compute multiple types of correlation analyses, including Pearson correlation, R^2 coefficient of linear regression, Cramer's V measure of association, distance correlation, the Maximal Information Coefficient, uncertainty coefficient, and Predictive Power Score in large data frames with mixed column classes (integer, numeric, factor, and character) using a parallel backend. This package also includes a C++ implementation of the average correlation clustering algorithm and distance correlation t-test.">
<meta property="og:image" content="https://meantrix.github.io/corrp/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">corrp</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/usage-corrp.html">Using the corrp package for correlation analysis</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/meantrix/corrp/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="corrp">corrp<a class="anchor" aria-label="anchor" href="#corrp"></a>
</h1>
</div>
<p><a href="http://meantrix.com" class="external-link"><img src="reference/figures/logo.png" align="right" height="139"></a> <!-- badges: start --></p>
<p><a href="https://semver.org" class="external-link"><img src="https://img.shields.io/badge/version-0.6.0-green.svg" alt="version"></a> <a href="https://www.gnu.org/licenses/gpl-3.0.en.html" class="external-link"><img src="https://img.shields.io/badge/License-GPL3-green.svg" alt="License: GPL3"></a></p>
<!-- badges: end -->
<p>Correlation-like analysis provides an important statistical measure that describes the size and direction of an association between variables. However, there are few R packages that can efficiently perform this type of analysis on large datasets with mixed data types. The <code>corrp</code> package provides a full suite of solutions for computing various correlation-like measures, such as Pearson correlation, Distance Correlation, Maximal Information Coefficient (MIC), Predictive Power Score (PPS), Cramér’s V, and the Uncertainty Coefficient. These methods support the analysis of data frames with mixed classes (integer, numeric, factor, and character).</p>
<p>Additionally, it offers a C++ implementation of the Average Correlation Clustering Algorithm (ACCA) <a href="https://www.sciencedirect.com/science/article/pii/S1532046410000158" class="external-link">ACCA</a>, which was originally developed for genetic studies using Pearson correlation as a similarity measure. In general, ACCA is an unsupervised clustering method, as it identifies patterns in the data without requiring predefined labels. Moreover, it requires the K parameter to be defined, similar to k-means. One of its main differences compared to other clustering methods is that it operates based on correlations rather than traditional distance metrics, such as Euclidean or Mahalanobis distance.</p>
<p>In this package, the ACCA algorithm has been extended to work directly with correlation matrices derived from different association methods, depending on the data types and user preferences. Furthermore, the package is designed for parallel processing in R, making it highly efficient for large datasets.</p>
<div class="section level2">
<h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a>
</h2>
<p>The <a href="https://github.com/meantrix/corrp" class="external-link">corrp package</a> under development by Meantrix team and original based on Srikanth KS (talegari) <a href="https://github.com/talegari/sidekicks/" class="external-link">cor2 function</a> can provide to R users a way to work with correlation analysis among large data.frames, tibbles or data.tables through a R parallel backend and C++ functions.</p>
<p>The data.frame is allowed to have columns of these four classes: integer, numeric, factor and character. The character column is considered as categorical variable.</p>
<p>In this new package the correlation is automatically computed according to the follow options:</p>
<div class="section level4">
<h4 id="integernumeric-pair">integer/numeric pair:<a class="anchor" aria-label="anchor" href="#integernumeric-pair"></a>
</h4>
<ul>
<li>
<a href="https://en.wikipedia.org/wiki/Pearson_correlation_coefficient" class="external-link">Pearson correlation test</a>;</li>
<li>
<a href="https://en.wikipedia.org/wiki/Distance_correlation" class="external-link">Distance Correlation</a>;</li>
<li>
<a href="https://en.wikipedia.org/wiki/Maximal_information_coefficient" class="external-link">Maximal Information Coefficient</a>;</li>
<li>
<a href="https://github.com/paulvanderlaken/ppsr" class="external-link">Predictive Power Score</a>.</li>
</ul>
</div>
<div class="section level4">
<h4 id="integernumeric---factorcategorical-pair">integer/numeric - factor/categorical pair:<a class="anchor" aria-label="anchor" href="#integernumeric---factorcategorical-pair"></a>
</h4>
<ul>
<li>correlation coefficient or squared root of <a href="https://en.wikipedia.org/wiki/Coefficient_of_determination" class="external-link">R^2 coefficient of linear regression</a>;</li>
<li>
<a href="https://github.com/paulvanderlaken/ppsr" class="external-link">Predictive Power Score</a>.</li>
</ul>
</div>
<div class="section level4">
<h4 id="factorcategorical-pair">factor/categorical pair:<a class="anchor" aria-label="anchor" href="#factorcategorical-pair"></a>
</h4>
<ul>
<li>
<a href="https://en.wikipedia.org/wiki/Cram%C3%A9r's_V" class="external-link">cramersV</a> a measure of <a href="https://en.wikipedia.org/wiki/Association_(statistics)" class="external-link">association</a> between two <a href="https://en.wikipedia.org/wiki/Nominal_data#Nominal_scale" class="external-link">nominal .</a>;</li>
<li>
<a href="https://en.wikipedia.org/wiki/Uncertainty_coefficient" class="external-link">Uncertainty coefficient</a>.</li>
<li>
<a href="https://github.com/paulvanderlaken/ppsr" class="external-link">Predictive Power Score</a>.</li>
</ul>
<p>Also, All statistical tests are controlled by the confidence interval of p.value parameter. If the statistical tests do not obtain a significance greater/less than p.value the value of variable <code>isig</code> will be <code>FALSE</code>.</p>
<p>If any errors occur during operations the association measure (<code>infer.value</code>) will be <code>NA</code>. #’ The result <code>data</code> and <code>index</code> will have  rows, where N is the number of variables of the input data.</p>
<p>By default, the statistical significance test for the PPS algorithm is not calculated, as it is prohibitively expensive for medium to large datasets. In this case <code>isig</code> is NA, you can enable it by setting <code>ptest = TRUE</code> in <code>pps.args</code>.</p>
<p>All the <code>*.args</code> can modify the parameters (<code>p.value</code>, <code>comp</code>, <code>alternative</code>, <code>num.s</code>, <code>rk</code>, <code>ptest</code>) for the respective method on it’s prefix.</p>
</div>
<div class="section level3">
<h3 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h3>
<p>Before you begin, ensure you have met the following requirement(s):</p>
<ul>
<li>You have <code>R &gt;= 3.6.2</code> installed.</li>
</ul>
<p>Install the development version from GitHub:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://remotes.r-lib.org" class="external-link">'remotes'</a></span><span class="op">)</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"meantrix/corrp@main"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="basic-usage">Basic Usage<a class="anchor" aria-label="anchor" href="#basic-usage"></a>
</h2>
<p><code>corrp package</code> provides seven main functions for correlation calculations, clustering and basic data manipulation: <code>corrp</code>, <code>corr_fun</code>, <code>corr_matrix</code>, <code>corr_rm</code>, <code>acca</code> , <code>sil_acca</code> and <code>best_acca</code>.</p>
<p><code>corrp</code> Next, we calculate the correlations for the data set iris using: Maximal Information Coefficient for numeric pair, the Power Predictive Score algorithm for numeric/categorical pair and Uncertainty coefficient for categorical pair.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># coorp with using iris using parallel processing</span></span>
<span><span class="va">results</span> <span class="op">=</span> <span class="fu">corrp</span><span class="fu">::</span><span class="fu"><a href="reference/corrp.html">corrp</a></span><span class="op">(</span><span class="va">iris</span>, cor.nn <span class="op">=</span> <span class="st">'mic'</span>, cor.nc <span class="op">=</span> <span class="st">'pps'</span>,cor.cc <span class="op">=</span> <span class="st">'uncoef'</span>, n.cores <span class="op">=</span> <span class="fl">2</span> , verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co"># an sequential example with different correlation pair types</span></span>
<span><span class="va">results_2</span> <span class="op">=</span> <span class="fu">corrp</span><span class="fu">::</span><span class="fu"><a href="reference/corrp.html">corrp</a></span><span class="op">(</span><span class="va">mtcars</span>, cor.nn <span class="op">=</span> <span class="st">'pps'</span>, cor.nc <span class="op">=</span> <span class="st">'lm'</span>, cor.cc <span class="op">=</span> <span class="st">'cramersV'</span>, parallel <span class="op">=</span> <span class="cn">FALSE</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">results</span><span class="op">$</span><span class="va">data</span><span class="op">)</span></span>
<span><span class="co">#                            infer infer.value        stat stat.value isig msg         varx         vary</span></span>
<span><span class="co"># Maximal Information Coefficient   0.9994870     P-value  0.0000000 TRUE      Sepal.Length Sepal.Length</span></span>
<span><span class="co"># Maximal Information Coefficient   0.2770503     P-value  0.0000000 TRUE      Sepal.Length  Sepal.Width</span></span>
<span><span class="co"># Maximal Information Coefficient   0.7682996     P-value  0.0000000 TRUE      Sepal.Length Petal.Length</span></span>
<span><span class="co"># Maximal Information Coefficient   0.6683281     P-value  0.0000000 TRUE      Sepal.Length  Petal.Width</span></span>
<span><span class="co">#          Predictive Power Score   0.5591864 F1_weighted  0.7028029 NA        Sepal.Length      Species</span></span>
<span><span class="co"># Maximal Information Coefficient   0.2770503     P-value  0.0000000 TRUE      Sepal.Width Sepal.Length</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">results_2</span><span class="op">$</span><span class="va">data</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#                  infer infer.value stat stat.value isig msg varx vary</span></span>
<span><span class="co"># Predictive Power Score   1.0000000 &lt;NA&gt;         NA NA      mpg  mpg</span></span>
<span><span class="co"># Predictive Power Score   0.3861810  MAE  0.8899206 NA      mpg  cyl</span></span>
<span><span class="co"># Predictive Power Score   0.3141056  MAE 74.7816795 NA      mpg disp</span></span>
<span><span class="co"># Predictive Power Score   0.2311418  MAE 42.3961506 NA      mpg   hp</span></span>
<span><span class="co"># Predictive Power Score   0.1646116  MAE  0.3992651 NA      mpg drat</span></span>
<span><span class="co"># Predictive Power Score   0.2075760  MAE  0.5768637 NA      mpg   wt</span></span></code></pre></div>
<p><code>corr_matrix</code> Using the previous result we can create a correlation matrix as follows:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m</span> <span class="op">=</span> <span class="fu"><a href="reference/corr_matrix.html">corr_matrix</a></span><span class="op">(</span><span class="va">results</span>,col <span class="op">=</span> <span class="st">'infer.value'</span>,isig <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">m</span></span>
<span><span class="co">#              Sepal.Length Sepal.Width Petal.Length Petal.Width   Species</span></span>
<span><span class="co"># Sepal.Length    0.9994870   0.2770503    0.7682996   0.6683281 0.4075487</span></span>
<span><span class="co"># Sepal.Width     0.2770503   0.9967831    0.4391362   0.4354146 0.2012876</span></span>
<span><span class="co"># Petal.Length    0.7682996   0.4391362    1.0000000   0.9182958 0.7904907</span></span>
<span><span class="co"># Petal.Width     0.6683281   0.4354146    0.9182958   0.9995144 0.7561113</span></span>
<span><span class="co"># Species         0.5591864   0.3134401    0.9167580   0.9398532 0.9999758</span></span>
<span><span class="co"># attr(,"class")</span></span>
<span><span class="co"># [1] "cmatrix" "matrix" </span></span></code></pre></div>
<p>Now, we can clustering the data set variables through ACCA and the correlation matrix. By way of example, consider 2 clusters <code>k = 2</code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">acca.res</span> <span class="op">=</span> <span class="fu"><a href="reference/acca.html">acca</a></span><span class="op">(</span><span class="va">m</span>,<span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">acca.res</span></span>
<span><span class="co"># $cluster1</span></span>
<span><span class="co"># [1] "Species"      "Sepal.Length" "Petal.Width" </span></span>
<span><span class="co"># </span></span>
<span><span class="co"># $cluster2</span></span>
<span><span class="co"># [1] "Petal.Length" "Sepal.Width" </span></span>
<span><span class="co"># </span></span>
<span><span class="co"># attr(,"class")</span></span>
<span><span class="co"># [1] "acca_list" "list"     </span></span></code></pre></div>
<p>Also,we can calculate The average silhouette width to the cluster <code>acca.res</code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/sil_acca.html">sil_acca</a></span><span class="op">(</span><span class="va">acca.res</span>,<span class="va">m</span><span class="op">)</span></span>
<span><span class="co"># [1] -0.02831006</span></span>
<span><span class="co"># attr(,"class")</span></span>
<span><span class="co"># [1] "corrpstat"</span></span>
<span><span class="co"># attr(,"statistic")</span></span>
<span><span class="co"># [1] "Silhouette"</span></span></code></pre></div>
<p>Observations with a large average silhouette width (almost 1) are very well clustered.</p>
<div class="section level3">
<h3 id="contributing-to-corrp">Contributing to corrp<a class="anchor" aria-label="anchor" href="#contributing-to-corrp"></a>
</h3>
<p>To contribute to <code>corrp</code>, follow these steps:</p>
<ol style="list-style-type: decimal">
<li>Fork this repository.</li>
<li>Create a branch: <code>git checkout -b &lt;branch_name&gt;</code>.</li>
<li>Make your changes and commit them: <code>git commit -m '&lt;commit_message&gt;'</code>
</li>
<li>Push to the original branch: <code>git push origin corrp/&lt;location&gt;</code>
</li>
<li>Create the pull request.</li>
</ol>
<p>Alternatively see the GitHub documentation on <a href="https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/creating-a-pull-request" class="external-link">creating a pull request</a>.</p>
</div>
<div class="section level3">
<h3 id="bug-reports">Bug Reports<a class="anchor" aria-label="anchor" href="#bug-reports"></a>
</h3>
<p>If you have detected a bug (or want to ask for a new feature), please file an issue with a minimal <a href="https://www.tidyverse.org/help/#reprex" class="external-link">reproducible example</a> on <a href="https://github.com/meantrix/corrp/issues" class="external-link">GitHub</a>.</p>
</div>
<div class="section level3">
<h3 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h3>
<p>This project uses the following license: <a href="https://github.com/meantrix/corrp/blob/master/LICENSE.md" class="external-link">GLP3 License</a>.</p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/meantrix/corrp/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/meantrix/corrp/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing corrp</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Igor Dornelles Schoeller Siciliani <br><small class="roles"> Author, maintainer </small>  </li>
<li>Paulo Henrique dos Santos <br><small class="roles"> Author </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Igor Dornelles Schoeller Siciliani, Paulo Henrique dos Santos.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
